# おじさんコレクション - 要件定義書

## 1. プロジェクト概要

### 1.1 アプリ名
**おじさんコレクション（Ojisan Hair Pluck Collection）**

### 1.2 アプリの目的
- ユーザーがストレス発散・暇つぶしができる癒し系ゲームアプリ
- AIで生成されたリアルなおじさんキャラクターの髪の毛を抜く体験
- コレクション要素により継続的な楽しみを提供

### 1.3 ターゲットユーザー
- 年齢：18歳〜40歳
- ストレス発散を求める社会人・学生
- 暇つぶしアプリを好むユーザー
- コレクション系ゲームが好きなユーザー

## 2. 機能要件

### 2.1 コア機能

#### 2.1.1 おじさん生成機能
- **AI画像生成**: 
  - Hugging Face無料モデル（Stable Diffusion 2.1、SDXL等）
  - 生成時間：30秒〜2分程度を許容
  - 高品質重視のプロンプトエンジニアリング
- **多様性**: 年齢、髪型、顔立ち、服装などバリエーション豊富
- **リアリティ**: 写実的で親しみやすいおじさんキャラクター
- **髪の毛の設定**: 各髪の毛に個別の位置情報とステータス
- **品質保証**: 
  - 複数パターン生成から最適選択
  - 不適切コンテンツフィルタリング

#### 2.1.2 髪の毛抜き体験機能
- **リアルな操作感**:
  - タップ&ドラッグで毛を掴む動作
  - 抵抗感のある引っ張り感覚（バイブレーション活用）
  - 抜ける瞬間の爽快感エフェクト
- **物理エンジン**: 髪の毛の動きが自然
- **段階的抵抗**: 毛の太さや根の深さで抵抗力が変化
- **サウンドエフェクト**: 
  - 毛を掴む音
  - 引っ張る音
  - 抜ける瞬間の音
  - おじさんの反応音声

#### 2.1.3 プログレス表示機能
- **進捗バー**: 全体の髪の毛に対する抜いた割合
- **リアルタイム更新**: 抜くたびに見た目が変化
- **エリア別進捗**: 頭頂部、側頭部、後頭部などエリア別の進捗

#### 2.1.4 コレクション機能
- **完了報酬**: 全ての髪を抜き終えたおじさんをコレクションに追加
- **レアリティシステム**: 
  - ノーマル: 一般的なおじさん
  - レア: 特徴的な髪型・服装のおじさん
  - スーパーレア: 有名人風・特殊キャラクター
- **図鑑機能**: コレクションしたおじさんを一覧表示
- **統計情報**: 
  - 総獲得数
  - レアリティ別獲得数
  - 完了時間記録

### 2.2 追加機能

#### 2.2.1 カスタマイズ機能
- **おじさん生成条件指定**:
  - 年齢層選択
  - 髪型タイプ選択
  - 服装スタイル選択
- **難易度設定**:
  - イージー: 髪が抜けやすい
  - ノーマル: 標準的な抵抗
  - ハード: 髪が抜けにくい、時間制限あり

#### 2.2.2 ソーシャル機能
- **シェア機能**: 
  - 完了したおじさんをSNSでシェア
  - 記録（時間、レアリティ）の共有
- **ランキング機能**:
  - 完了時間ランキング
  - コレクション数ランキング

#### 2.2.3 継続性機能
- **デイリーチャレンジ**: 
  - 特定条件での髪抜きミッション
  - 報酬としてレアおじさん獲得機会
- **アチーブメントシステム**:
  - 「初回完了」「速攻クリア」「コレクター」等
- **ログインボーナス**: 継続ログインで特典獲得

## 3. 非機能要件

### 3.1 パフォーマンス要件
- **レスポンス時間**: 
  - 髪抜き操作のレスポンス: 50ms以下
  - おじさん生成時間: 30秒〜2分（品質重視のため許容）
  - ページ遷移: 2秒以内
- **同時接続数**: 100ユーザー対応（無料リソース内）
- **データ容量**: アプリサイズ50MB以下（初回）

### 3.2 可用性要件
- **稼働率**: 99.5%以上
- **メンテナンス**: 週次メンテナンス時間2時間以内

### 3.3 セキュリティ要件
- **データ保護**: ユーザーデータの暗号化
- **API保護**: レート制限とアクセス制御
- **プライバシー**: 個人情報の適切な取り扱い

### 3.4 互換性要件
- **対応OS**: 
  - iOS 14.0以上
  - Android 8.0以上
- **ブラウザ対応**: Chrome、Safari、Edge最新版
- **レスポンシブ**: スマートフォン、タブレット対応

## 4. 技術要件

### 4.1 フロントエンド
- **フレームワーク**: React / Vue.js / Next.js
- **アニメーション**: Three.js / GSAP
- **UI/UX**: Responsive Design、タッチ操作最適化

### 4.2 バックエンド
- **API**: RESTful API / GraphQL
- **AI画像生成**: 
  - Hugging Face Inference API（無料枠活用）
  - Stable Diffusion 2.1 / SDXL-Base
  - ローカル推論環境（品質向上時）
- **データベース**: MongoDB Atlas（無料枠）/ PostgreSQL
- **ファイルストレージ**: Cloudinary（無料枠）/ Firebase Storage

### 4.3 インフラ
- **ホスティング**: Vercel / Netlify / AWS
- **CDN**: CloudFlare / AWS CloudFront
- **監視**: Sentry / DataDog

## 5. ユーザーストーリー

### 5.1 基本フロー
1. **アプリ起動**: ユーザーがアプリを開く
2. **おじさん生成**: 新しいおじさんキャラクターが生成される
3. **髪抜き開始**: ユーザーが髪の毛をタップ&ドラッグで抜き始める
4. **プログレス確認**: 進捗を見ながら継続
5. **完了**: すべての髪を抜き終える
6. **コレクション追加**: おじさんがコレクションに追加される
7. **次のおじさん**: 新しいおじさんで再開

### 5.2 追加フロー
- **図鑑閲覧**: コレクションしたおじさんを確認
- **設定変更**: 難易度やエフェクトの調整
- **シェア**: 成果をSNSで共有

## 6. 開発フェーズ

### Phase 1: MVP (最小機能プロダクト)
- おじさん生成（基本的なバリエーション）
- 髪抜き機能（基本操作）
- コレクション機能（基本版）
- プログレス表示

### Phase 2: エンハンス版
- エフェクト強化
- サウンド追加
- レアリティシステム
- カスタマイズ機能

### Phase 3: ソーシャル版
- シェア機能
- ランキング
- デイリーチャレンジ
- アチーブメント

## 7. 成功指標（KPI）

### 7.1 エンゲージメント
- **継続率**: 
  - 1日後: 60%以上
  - 7日後: 30%以上
  - 30日後: 15%以上
- **セッション時間**: 平均5分以上
- **完了率**: おじさん1体完了まで80%以上

### 7.2 ユーザー満足度
- **アプリストア評価**: 4.0以上
- **ユーザーレビュー**: ポジティブ70%以上
- **シェア率**: 完了ユーザーの20%以上

### 7.3 技術指標
- **クラッシュ率**: 1%以下
- **ロード時間**: 3秒以内
- **API エラー率**: 1%以下

## 8. リスクと対策

### 8.1 技術リスク
- **AI生成コスト**: API費用の予算管理、キャッシュ戦略
- **パフォーマンス**: 最適化とテスト強化
- **ブラウザ互換性**: 幅広いテストと代替手段

### 8.2 コンテンツリスク
- **不適切コンテンツ**: AI生成結果のフィルタリング
- **著作権**: オリジナリティの確保
- **ユーザビリティ**: ユーザーテストによる改善

### 8.3 ビジネスリスク
- **ユーザー獲得**: マーケティング戦略とバイラル要素
- **継続性**: コンテンツ更新とイベント企画
- **収益化**: 広告モデルや課金要素の検討

---

**作成日**: 2025年8月18日  
**バージョン**: 1.0  
**作成者**: 開発チーム
